{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ServerDashboard(){const[logs,setLogs]=useState([]);// Fetch logs from the back-end using a relative URL.\nconst fetchLogs=async()=>{try{const response=await axios.get('/logs');setLogs(response.data.logs);}catch(error){console.error('Error fetching logs:',error);// Simulate log data if the endpoint isn't available.\nsetLogs(prevLogs=>[...prevLogs,`Log entry at ${new Date().toLocaleTimeString()}: No logs endpoint configured.`]);}};useEffect(()=>{fetchLogs();// Poll every 5 seconds for new logs.\nconst interval=setInterval(fetchLogs,5000);return()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Server Dashboard\"}),/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ccc',padding:'1rem',height:'300px',overflowY:'scroll'},children:logs.length>0?logs.map((log,index)=>/*#__PURE__*/_jsx(\"p\",{children:log},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No logs available.\"})})]});}export default ServerDashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ServerDashboard","logs","setLogs","fetchLogs","response","get","data","error","console","prevLogs","Date","toLocaleTimeString","interval","setInterval","clearInterval","children","style","border","padding","height","overflowY","length","map","log","index"],"sources":["/Users/admin/my_fix_project/frontend/src/components/ServerDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction ServerDashboard() {\n  const [logs, setLogs] = useState([]);\n\n  // Fetch logs from the back-end using a relative URL.\n  const fetchLogs = async () => {\n    try {\n      const response = await axios.get('/logs');\n      setLogs(response.data.logs);\n    } catch (error) {\n      console.error('Error fetching logs:', error);\n      // Simulate log data if the endpoint isn't available.\n      setLogs(prevLogs => [\n        ...prevLogs,\n        `Log entry at ${new Date().toLocaleTimeString()}: No logs endpoint configured.`\n      ]);\n    }\n  };\n\n  useEffect(() => {\n    fetchLogs();\n    // Poll every 5 seconds for new logs.\n    const interval = setInterval(fetchLogs, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div>\n      <h2>Server Dashboard</h2>\n      <div\n        style={{\n          border: '1px solid #ccc',\n          padding: '1rem',\n          height: '300px',\n          overflowY: 'scroll'\n        }}\n      >\n        {logs.length > 0 ? (\n          logs.map((log, index) => <p key={index}>{log}</p>)\n        ) : (\n          <p>No logs available.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ServerDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEpC;AACA,KAAM,CAAAS,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,OAAO,CAAC,CACzCH,OAAO,CAACE,QAAQ,CAACE,IAAI,CAACL,IAAI,CAAC,CAC7B,CAAE,MAAOM,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C;AACAL,OAAO,CAACO,QAAQ,EAAI,CAClB,GAAGA,QAAQ,CACX,gBAAgB,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC,gCAAgC,CAChF,CAAC,CACJ,CACF,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACdU,SAAS,CAAC,CAAC,CACX;AACA,KAAM,CAAAS,QAAQ,CAAGC,WAAW,CAACV,SAAS,CAAE,IAAI,CAAC,CAC7C,MAAO,IAAMW,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAAkB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBlB,IAAA,QACEmB,KAAK,CAAE,CACLC,MAAM,CAAE,gBAAgB,CACxBC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,OAAO,CACfC,SAAS,CAAE,QACb,CAAE,CAAAL,QAAA,CAEDd,IAAI,CAACoB,MAAM,CAAG,CAAC,CACdpB,IAAI,CAACqB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBAAK3B,IAAA,MAAAkB,QAAA,CAAgBQ,GAAG,EAAXC,KAAe,CAAC,CAAC,cAElD3B,IAAA,MAAAkB,QAAA,CAAG,oBAAkB,CAAG,CACzB,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAf,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}